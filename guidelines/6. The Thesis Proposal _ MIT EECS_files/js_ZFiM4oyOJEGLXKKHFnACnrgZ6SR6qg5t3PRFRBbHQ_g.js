(function(g){g.cookie=function(h,b,a){if(arguments.length>1&&(!/Object/.test(Object.prototype.toString.call(b))||b===null||b===void 0)){a=g.extend({},a);if(b===null||b===void 0)a.expires=-1;if(typeof a.expires==="number"){var d=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+d)}b=String(b);return document.cookie=[encodeURIComponent(h),"=",a.raw?b:encodeURIComponent(b),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":
""].join("")}for(var a=b||{},d=a.raw?function(a){return a}:decodeURIComponent,c=document.cookie.split("; "),e=0,f;f=c[e]&&c[e].split("=");e++)if(d(f[0])===h)return d(f[1]||"");return null}})(jQuery);
/*!
 * jQuery imagesLoaded plugin v2.0.1
 * http://github.com/desandro/imagesloaded
 *
 * MIT License. by Paul Irish et al.
 */

/*jshint curly: true, eqeqeq: true, noempty: true, strict: true, undef: true, browser: true */
/*global jQuery: false */

(function(c,n){var k="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==";c.fn.imagesLoaded=function(l){function m(){var b=c(h),a=c(g);d&&(g.length?d.reject(e,b,a):d.resolve(e));c.isFunction(l)&&l.call(f,e,b,a)}function i(b,a){b.src===k||-1!==c.inArray(b,j)||(j.push(b),a?g.push(b):h.push(b),c.data(b,"imagesLoaded",{isBroken:a,src:b.src}),o&&d.notifyWith(c(b),[a,e,c(h),c(g)]),e.length===j.length&&(setTimeout(m),e.unbind(".imagesLoaded")))}var f=this,d=c.isFunction(c.Deferred)?c.Deferred():
0,o=c.isFunction(d.notify),e=f.find("img").add(f.filter("img")),j=[],h=[],g=[];e.length?e.bind("load.imagesLoaded error.imagesLoaded",function(b){i(b.target,"error"===b.type)}).each(function(b,a){var e=a.src,d=c.data(a,"imagesLoaded");if(d&&d.src===e)i(a,d.isBroken);else if(a.complete&&a.naturalWidth!==n)i(a,0===a.naturalWidth||0===a.naturalHeight);else if(a.readyState||a.complete)a.src=k,a.src=e}):m();return d?d.promise(f):f}})(jQuery);/**
 * jQuery Masonry v2.1.02
 * A dynamic layout plugin for jQuery
 * The flip-side of CSS Floats
 * http://masonry.desandro.com
 *
 * Licensed under the MIT license.
 * Copyright 2011 David DeSandro
 */
(function(a,b,c){var d=b.event,e;d.special.smartresize={setup:function(){b(this).bind("resize",d.special.smartresize.handler)},teardown:function(){b(this).unbind("resize",d.special.smartresize.handler)},handler:function(a,b){var c=this,d=arguments;a.type="smartresize",e&&clearTimeout(e),e=setTimeout(function(){jQuery.event.handle.apply(c,d)},b==="execAsap"?0:100)}},b.fn.smartresize=function(a){return a?this.bind("smartresize",a):this.trigger("smartresize",["execAsap"])},b.Mason=function(a,c){this.element=b(c),this._create(a),this._init()},b.Mason.settings={isResizable:!0,isAnimated:!1,animationOptions:{queue:!1,duration:500},gutterWidth:0,isRTL:!1,isFitWidth:!1,containerStyle:{position:"relative"}},b.Mason.prototype={_filterFindBricks:function(a){var b=this.options.itemSelector;return b?a.filter(b).add(a.find(b)):a},_getBricks:function(a){var b=this._filterFindBricks(a).css({position:"absolute"}).addClass("masonry-brick");return b},_create:function(c){this.options=b.extend(!0,{},b.Mason.settings,c),this.styleQueue=[];var d=this.element[0].style;this.originalStyle={height:d.height||""};var e=this.options.containerStyle;for(var f in e)this.originalStyle[f]=d[f]||"";this.element.css(e),this.horizontalDirection=this.options.isRTL?"right":"left",this.offset={x:parseInt(this.element.css("padding-"+this.horizontalDirection),10),y:parseInt(this.element.css("padding-top"),10)},this.isFluid=this.options.columnWidth&&typeof this.options.columnWidth=="function";var g=this;setTimeout(function(){g.element.addClass("masonry")},0),this.options.isResizable&&b(a).bind("smartresize.masonry",function(){g.resize()}),this.reloadItems()},_init:function(a){this._getColumns(),this._reLayout(a)},option:function(a,c){b.isPlainObject(a)&&(this.options=b.extend(!0,this.options,a))},layout:function(a,b){for(var c=0,d=a.length;c<d;c++)this._placeBrick(a[c]);var e={};e.height=Math.max.apply(Math,this.colYs);if(this.options.isFitWidth){var f=0,c=this.cols;while(--c){if(this.colYs[c]!==0)break;f++}e.width=(this.cols-f)*this.columnWidth-this.options.gutterWidth}this.styleQueue.push({$el:this.element,style:e});var g=this.isLaidOut?this.options.isAnimated?"animate":"css":"css",h=this.options.animationOptions,i;for(c=0,d=this.styleQueue.length;c<d;c++)i=this.styleQueue[c],i.$el[g](i.style,h);this.styleQueue=[],b&&b.call(a),this.isLaidOut=!0},_getColumns:function(){var a=this.options.isFitWidth?this.element.parent():this.element,b=a.width();this.columnWidth=this.isFluid?this.options.columnWidth(b):this.options.columnWidth||this.$bricks.outerWidth(!0)||b,this.columnWidth+=this.options.gutterWidth,this.cols=Math.floor((b+this.options.gutterWidth)/this.columnWidth),this.cols=Math.max(this.cols,1)},_placeBrick:function(a){var c=b(a),d,e,f,g,h;d=Math.ceil(c.outerWidth(!0)/(this.columnWidth+this.options.gutterWidth)),d=Math.min(d,this.cols);if(d===1)f=this.colYs;else{e=this.cols+1-d,f=[];for(h=0;h<e;h++)g=this.colYs.slice(h,h+d),f[h]=Math.max.apply(Math,g)}var i=Math.min.apply(Math,f),j=0;for(var k=0,l=f.length;k<l;k++)if(f[k]===i){j=k;break}var m={top:i+this.offset.y};m[this.horizontalDirection]=this.columnWidth*j+this.offset.x,this.styleQueue.push({$el:c,style:m});var n=i+c.outerHeight(!0),o=this.cols+1-l;for(k=0;k<o;k++)this.colYs[j+k]=n},resize:function(){var a=this.cols;this._getColumns(),(this.isFluid||this.cols!==a)&&this._reLayout()},_reLayout:function(a){var b=this.cols;this.colYs=[];while(b--)this.colYs.push(0);this.layout(this.$bricks,a)},reloadItems:function(){this.$bricks=this._getBricks(this.element.children())},reload:function(a){this.reloadItems(),this._init(a)},appended:function(a,b,c){if(b){this._filterFindBricks(a).css({top:this.element.height()});var d=this;setTimeout(function(){d._appended(a,c)},1)}else this._appended(a,c)},_appended:function(a,b){var c=this._getBricks(a);this.$bricks=this.$bricks.add(c),this.layout(c,b)},remove:function(a){this.$bricks=this.$bricks.not(a),a.remove()},destroy:function(){this.$bricks.removeClass("masonry-brick").each(function(){this.style.position="",this.style.top="",this.style.left=""});var c=this.element[0].style;for(var d in this.originalStyle)c[d]=this.originalStyle[d];this.element.unbind(".masonry").removeClass("masonry").removeData("masonry"),b(a).unbind(".masonry")}},b.fn.imagesLoaded=function(a){function i(a){a.target.src!==f&&b.inArray(this,g)===-1&&(g.push(this),--e<=0&&(setTimeout(h),d.unbind(".imagesLoaded",i)))}function h(){a.call(c,d)}var c=this,d=c.find("img").add(c.filter("img")),e=d.length,f="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",g=[];e||h(),d.bind("load.imagesLoaded error.imagesLoaded",i).each(function(){var a=this.src;this.src=f,this.src=a});return c};var f=function(a){this.console&&console.error(a)};b.fn.masonry=function(a){if(typeof a=="string"){var c=Array.prototype.slice.call(arguments,1);this.each(function(){var d=b.data(this,"masonry");if(!d)f("cannot call methods on masonry prior to initialization; attempted to call method '"+a+"'");else{if(!b.isFunction(d[a])||a.charAt(0)==="_"){f("no such method '"+a+"' for masonry instance");return}d[a].apply(d,c)}})}else this.each(function(){var c=b.data(this,"masonry");c?(c.option(a||{}),c._init()):b.data(this,"masonry",new b.Mason(a,this))});return this}})(window,jQuery);
(function(a){if(!Array.indexOf)Array.prototype.indexOf=function(a){for(var b=0;b<this.length;b++)if(this[b]==a)return b;return-1};var d=window.EECS={};d.common=function(){a(".collapsible");var c=a("#fixedContainer"),b=a(".sidebar"),d={},g=!1,f=function(){var i=a("body"),e=i.data("init");i.addClass(e+"-page")},l=function(){var i=[];a(".month-bar").remove();a(".homepage-list li").each(function(){var e=a(this).data("month");if(e!=null&&i.indexOf(e)===-1){var b=a(this).offset().top,c=a("<div />").addClass("month-bar").attr("id",
e.replace(" ","")).text(e).css("top",b),d=a(window).height();a("body").prepend(c);i.push(e);b<d&&c.remove()}})},r=function(){var b=a(".view-labs-and-themes-glossary"),e=a(".lab-theme-list"),c=a(".all-terms");b.prepend('<div class="shrink-btn closed-state"></div>');a(".view-labs-and-themes-glossary h3 span").length?b.addClass("has-facet"):b.removeClass("has-facet");a.cookie("filter_cookie")?a.cookie("filter_cookie")==="filter_open"?(e.show(),c.show(),a(".shrink-btn").removeClass("closed-state")):a.cookie("filter_cookie")===
"filter_close"&&(e.hide(),c.hide()):(a.cookie("filter_cookie","filter_close",{expires:7,path:"/"}),e.hide(),c.hide());e.is(":visible")?a(".view-header").addClass("filter-open"):a(".view-header").addClass("filter-closed");b.delegate(".shrink-btn, h3","click",function(){var b=a(".shrink-btn");e.is(":visible")?(a.cookie("filter_cookie","filter_close",{expires:7,path:"/"}),e.hide(),b.addClass("closed-state"),b.closest(".view-header").removeClass("filter-open").addClass("filter-closed"),c.hide()):(a.cookie("filter_cookie",
"filter_open",{expires:7,path:"/"}),e.show(),b.removeClass("closed-state"),b.closest(".view-header").removeClass("filter-closed").addClass("filter-open"),c.show())})},s=function(){var b=a("#slideDownNav");a("#menuTab").toggle(function(){b.animate({top:70},500)},function(){b.animate({top:-192},500)});a("#slideDownNav #utilityNav .leaf").eq(3).prepend("<br>&nbsp;&nbsp;&nbsp;&nbsp;").find("a").css("paddingLeft","0")},t=function(){if(navigator.userAgent.match(/iPhone/i)||navigator.userAgent.match(/iPad/i)){var a=
document.querySelector('meta[name="viewport"]');if(a)a.content="width=device-width, minimum-scale=1.0, maximum-scale=1.0",document.body.addEventListener("gesturestart",function(){a.content="width=device-width, minimum-scale=0.25, maximum-scale=1.6"},!1)}},u=function(){a("#search input").focus(function(){if(this.value===this.defaultValue)this.value=""}).blur(function(){if(this.value==="")this.value=this.defaultValue})},m=function(){b.find("li").hasClass("active")?(b.find("li.active a").addClass("collapsible"),
a(".collapsible").parents().show(),b.find("li:not(.active-trail)").hide()):(a(".sidebar h2.block-title").removeClass("shrink-btn").addClass("collapsible mobileH2"),b.find("li").hide());b.find(".shrink-btn").remove();b.find(".grow-btn").remove();a(".collapsible").append('<div class="grow-btn"></div>')},p=function(b){var c=a(window).width()>700;b.startMasonry&&!c&&g&&(a(b.mainContentBlock).masonry("destroy"),a(b.mainContentBlock).addClass("noMasonry"),g=!1);if(b.startMasonry&&c){var j=d,j=d;!g&&j.startMasonry&&
(n(j.startMasonry,j.dateBar,j.mainContentBlock),a(b.mainContentBlock).removeClass("noMasonry"));d.dateBar&&setTimeout(l,300)}b.retreatSidebar&&!c&&m();b.untreatSidebar&&c&&o();b.sidebarCollapse&&!c&&v();b.fixH2&&c&&a(".sidebar h2.block-title").removeClass("mobileH2")},w=function(){setTimeout(function(){a("#shib-logout").hide()},4E3)},v=function(){b.delegate(".collapsible","click",function(b){b.preventDefault();o();a(".collapsible").removeClass("collapsible");a(this).append('<div class="shrink-btn"></div>');
a(".grow-btn").remove()})},x=function(c){b.delegate(".shrink-btn","click",function(b){b.preventDefault();b.stopPropagation();m();a(this).remove();a(".collapsible").append('<div class="grow-btn"></div>')});c&&a("html.ie6-8").addClass("ieMasonrySidebar")},q=function(){var a=b.children(".block-menu-block").height(),d=c.height();a>d&&c.css("minHeight",a)},n=function(b,c,d){function f(){setTimeout(function(){g&&(h.masonry("reload"),k++,k<5&&f())},1E3)}b=a.extend({},{itemSelector:".views-row",columnWidth:212,
isAnimated:!1,gutterWidth:10,isResizable:!0},b);g=!0;var h=a(d);h.masonry(b);q();var k=0;f();Drupal.behaviors.masonry={attach:function(){h.masonry("reload");h.imagesLoaded(function(){h.masonry("reload");k=0;f();c&&setTimeout(l,300)})}};setTimeout(function(){h.css("left","0")},1E3)},o=function(){b.find("li").show();b.find(".shrink-btn").remove();b.find(".grow-btn").remove()};return{init:function(){f();a("#headerContent #mainNav li").hover(function(){a(".menu",this).show()},function(){a(".menu",this).hide()});
r();s();t();u();w();q();a("li a.facebook").parent("li").addClass("social")},addCsailCard:function(){a(".card-list li div.research-taxonomy-card").parent().addClass("csail-card")},layoutPage:function(b){var c=a.extend({},{startMasonry:!1,retreatSidebar:!1,untreatSidebar:!1,sidebarCollapse:!1,sidebarExpand:!1,checkSidebarChildren:!1,checkForFeatureBlock:!1,fixH2:!1,dateBar:!1,mainContentBlock:".homepage-list, .masonary-content"},b);d=c;c.startMasonry&&a(window).width()>700&&!g&&n(c.startMasonry,c.dateBar,
c.mainContentBlock);c.checkSidebarChildren&&a(".sidebar li.has-children").not(".active-trail").addClass("inactive-trail");c.checkForFeatureBlock&&a("#content #block-callouts-callouts").addClass("main-content-right").parent().children("#block-system-main").addClass("main-content-left");c.sidebarExpand&&x(c.startMasonry);p(c);a(window).resize(function(){p(c)})}}}();d.aboutus=function(){var a=d.common,b={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,
untreatSidebar:!0};return{init:function(){a.layoutPage(b)}}}();d.academicsadmissions=function(){var a=d.common,b={checkForFeatureBlock:!0,checkSidebarChildren:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{itemSelector:".masonry-block",columnWidth:215,gutterWidth:12},untreatSidebar:!0};return{init:function(){a.layoutPage(b)}}}();d.alumni=function(){var a={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,
startMasonry:{itemSelector:".masonry-block",columnWidth:220},untreatSidebar:!0};return{init:function(){d.common.layoutPage(a)}}}();d.contact=function(){var a={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,untreatSidebar:!0};return{init:function(){d.common.layoutPage(a)}}}();d.facultyadvisors=function(){var c=d.common,b={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{columnWidth:160,
gutterWidth:14},untreatSidebar:!0,mainContentBlock:".faculty-list"},f=function(){a(this).siblings(".views-field-title a").css("textDecoration","underline")},g=function(){a(this).siblings(".views-field-title a").css("textDecoration","none")};return{init:function(){c.layoutPage(b);a(".views-field-field-person-photo").hover(f,g)}}}();d.homepage=function(){var c={dateBar:!0,startMasonry:{}};return{init:function(){d.common.layoutPage(c);a("a.featured-card-title").closest("span").addClass("title-span")}}}();
d.newsevents=function(){var a={checkSidebarChildren:!1,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{columnWidth:210,gutterWidth:20},untreatSidebar:!0,mainContentBlock:".card-list"};return{init:function(){d.common.layoutPage(a)}}}();d.outreach=function(){var a={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{itemSelector:".masonry-block",columnWidth:220},untreatSidebar:!0};
return{init:function(){var b=d.common;b.layoutPage(a);b.addCsailCard()}}}();d.people=function(){var a={checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{itemSelector:".masonry-block",columnWidth:220},untreatSidebar:!0};return{init:function(){d.common.layoutPage(a)}}}();d.research=function(){var a={startMasonry:{},mainContentBlock:".card-list"};return{init:function(){d.common.layoutPage(a)}}}();d.resources=function(){var a=
{checkSidebarChildren:!0,checkForFeatureBlock:!0,fixH2:!0,retreatSidebar:!0,sidebarCollapse:!0,sidebarExpand:!0,startMasonry:{itemSelector:".masonry-block",columnWidth:220},untreatSidebar:!0};return{init:function(){var b=d.common;b.layoutPage(a);b.addCsailCard()}}}();d.taxonomy=function(){var a={startMasonry:{},mainContentBlock:".card-list"};return{init:function(){var b=d.common;b.layoutPage(a);b.addCsailCard()}}}();var f=window.UTIL={fire:function(a,b,f){b=b===void 0?"init":b;if(a!==""&&d[a]&&typeof d[a][b]===
"function")d[a][b](f)},loadEvents:function(){var c=a("body").data("init");f.fire("common");f.fire(c)}};a(document).ready(f.loadEvents)})(jQuery);
;
